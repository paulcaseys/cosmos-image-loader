if(!window.Cosmos){window.Cosmos={}}if(!window.Cosmos.Utils){window.Cosmos.Utils={}}(function(){var e;var t=function(){};var n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"];var r=n.length;var i=window.console=window.console||{};while(r--){e=n[r];if(!i[e]){i[e]=t}}})();$(document).ready(function(){});Cosmos.Utils.ImageLoaderWithRescaleSlideShow=function(e,t,n,r,i,s,o){$(e).data("theTargetElement",e);$(e).data("theImageArray",t);$(e).data("theImageArrayLength",t.length);$(e).data("theIntervalSpeed",n);$(e).data("theFadeSpeed",r);$(e).data("theRescale",i);$(e).data("theCentre",s);$(e).data("theElementResizeListener",o);$(e).data("theCurrentImageId",0);$(e).css("overflow","hidden");$(e).append('<div class="imageLoaderInnerContainer"> </div>');for(var u=0;u<t.length;u++){$(e+" .imageLoaderInnerContainer").append($("<img>",{src:t[u],"class":"appendedImage appendedImage"+u,"data-imgId":u}))}$(e+" .appendedImage").hide();$(e+" .appendedImage").imagesLoaded(function(i,s,u){if(u.length>0){console.log("ERROR in ImageLoaderWithRescaleSlideShow(): "+u.length+' broken image "'+this.attr("src")+'"');$(e).trigger("IMAGE_LOAD_ERROR")}if(s.length>t.length-1){$(e).trigger("IMAGE_LOADED");Cosmos.Utils.PositionImage(e);if(t.length>1){Cosmos.Utils.PlaySlideshow(e);setInterval(function(){Cosmos.Utils.PlaySlideshow(e)},n+r)}else{Cosmos.Utils.DisplayImage(e,0,r)}if(o=="elementResizeListenerEnabled"){$(e).resize(function(t){Cosmos.Utils.PositionImage($(e).data("theTargetElement"))})}}})};Cosmos.Utils.PlaySlideshow=function(e){var t=$(e).data("theImageArray");var n=parseInt($(e).data("theImageArrayLength"),10);var r=$(e).data("theIntervalSpeed");var i=$(e).data("theFadeSpeed");var s=$(e).data("theRescale");var o=$(e).data("theCentre");var u=parseInt($(e).data("theCurrentImageId"),10);Cosmos.Utils.DisplayImage(e,u,i);var a=0;if(u+1<n){a=u+1}$(e).data("theCurrentImageId",a)};Cosmos.Utils.DisplayImage=function(e,t,n){var r=0;$(e+" img").each(function(){var e=parseInt($(this).css("zIndex"),10);if(e>r){r=e}});var i=$(e+" .appendedImage"+t);i.css({position:"absolute","z-index":r+1});i.css("display","none");i.fadeIn(n)};Cosmos.Utils.PositionImage=function(e){$(e+" .imageLoaderInnerContainer").css({overflow:"hidden",position:"absolute",width:$(e).width(),height:$(e).height()});var t=$(e).data("theImageArray");var n=$(e).data("theIntervalSpeed");var r=$(e).data("theFadeSpeed");var i=$(e).data("theRescale");var s=$(e).data("theCentre");$(e+" img").each(function(t){var n=$(this);var r=parseInt($(e).width(),10);var o=parseInt($(e).height(),10);var u=r/o;var a=parseInt(n.width(),10);var f=parseInt(n.height(),10);var l=a/f;if(i=="rescaleEnabled"){n.css({height:o+"px",width:"auto"});f=o;a=Math.round(f*l);if(o*l<r){n.css({width:r+"px",height:"auto"});a=r;f=Math.round(a/l)}}if(s=="centreEnabled"){if(a>r){n.css({"margin-left":"-"+Math.round((a-r)/2)+"px"})}else{n.css({"margin-left":"0px"})}if(f>o){n.css({"margin-top":"-"+Math.round((f-o)/2)+"px"})}else{n.css({"margin-top":"0px"})}}})};(function(e,t){"use strict";var n="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";e.fn.imagesLoaded=function(r){function c(){var t=e(f),n=e(l);if(s){if(l.length){s.reject(u,t,n)}else{s.resolve(u)}}if(e.isFunction(r)){r.call(i,u,t,n)}}function h(t,r){if(t.src===n||e.inArray(t,a)!==-1){return}a.push(t);if(r){l.push(t)}else{f.push(t)}e.data(t,"imagesLoaded",{isBroken:r,src:t.src});if(o){s.notifyWith(e(t),[r,u,e(f),e(l)])}if(u.length===a.length){setTimeout(c);u.unbind(".imagesLoaded")}}var i=this,s=e.isFunction(e.Deferred)?e.Deferred():0,o=e.isFunction(s.notify),u=i.find("img").add(i.filter("img")),a=[],f=[],l=[];if(e.isPlainObject(r)){e.each(r,function(e,t){if(e==="callback"){r=t}else if(s){s[e](t)}})}if(!u.length){c()}else{u.bind("load.imagesLoaded error.imagesLoaded",function(e){h(e.target,e.type==="error")}).each(function(r,i){var s=i.src;var o=e.data(i,"imagesLoaded");if(o&&o.src===s){h(i,o.isBroken);return}if(i.complete&&i.naturalWidth!==t){h(i,i.naturalWidth===0||i.naturalHeight===0);return}if(i.readyState||i.complete){i.src=n;i.src=s}})}return s?s.promise(i):i}})(jQuery);(function(e,t,n){"$:nomunge";function c(){s=t[o](function(){r.each(function(){var t=e(this),n=t.width(),r=t.height(),i=e.data(this,a);if(n!==i.w||r!==i.h){t.trigger(u,[i.w=n,i.h=r])}});c()},i[f])}var r=e([]),i=e.resize=e.extend(e.resize,{}),s,o="setTimeout",u="resize",a=u+"-special-event",f="delay",l="throttleWindow";i[f]=250;i[l]=true;e.event.special[u]={setup:function(){if(!i[l]&&this[o]){return false}var t=e(this);r=r.add(t);e.data(this,a,{w:t.width(),h:t.height()});if(r.length===1){c()}return""},teardown:function(){if(!i[l]&&this[o]){return false}var t=e(this);r=r.not(t);t.removeData(a);if(!r.length){clearTimeout(s)}return""},add:function(t){function s(t,i,s){var o=e(this),u=e.data(this,a);u.w=i!==n?i:o.width();u.h=s!==n?s:o.height();r.apply(this,arguments)}if(!i[l]&&this[o]){return false}var r;if(e.isFunction(t)){r=t;return s}else{r=t.handler;t.handler=s}return""}}})(jQuery,this)